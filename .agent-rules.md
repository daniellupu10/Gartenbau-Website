# Project Rules for AI Agent

## Core Principles
- Follow the existing code style and architecture of the project
- Maintain consistency with established patterns and conventions
- Always consider the broader context before making changes

## Documentation Rule
- Always add JSDoc comments to new or undocumented functions. Ensure parameters and return types are clearly described
- Document complex logic with inline comments explaining the "why" not just the "what"
- Keep documentation up to date when modifying existing code

## Learning Loop (CRITICAL - Follow Every Iteration)

### After Each Iteration:
1. **Update Learning.md** - Document all learnings, insights, and discoveries made during this iteration
2. **Capture the following in Learning.md:**
   - New patterns or conventions discovered in the codebase
   - Solutions to problems encountered
   - Mistakes made and how they were corrected
   - Code structure insights and architectural decisions
   - Dependencies and their purposes
   - Configuration details and their effects
   - Edge cases and gotchas encountered
   - Performance considerations learned
   - Testing approaches that worked well

### Before Each Iteration:
1. **Read Learning.md FIRST** - Review all accumulated learnings before starting work
2. **Apply previous learnings** - Use insights from past iterations to inform current decisions
3. **Avoid repeating mistakes** - Check Learning.md for similar issues encountered before
4. **Build on previous knowledge** - Leverage documented patterns and solutions

### Learning.md Format:
Each entry should include:
- **Date/Iteration:** When the learning occurred
- **Context:** What task was being performed
- **Learning:** What was discovered or learned
- **Impact:** How this affects future work

## Code Quality Standards
- Write clean, self-explanatory code with meaningful variable and function names
- Avoid magic numbers and strings - use named constants instead
- Keep functions focused on a single responsibility
- Minimize code duplication - extract reusable logic into shared utilities

## Error Handling
- Always handle errors gracefully with appropriate error messages
- Use try-catch blocks for operations that might fail
- Validate inputs before processing
- Provide meaningful error messages for debugging

## Testing Requirements
- Write tests for new features and bug fixes
- Ensure all tests pass before considering work complete
- Include both positive and negative test cases
- Test edge cases and error handling paths

## Version Control
- Write clear, descriptive commit messages
- Keep commits atomic and focused on a single concern
- Don't commit commented-out code or debug statements

## Before Completing Any Task
- [ ] Code follows project style and architecture
- [ ] Documentation added/updated (JSDoc + inline comments)
- [ ] Tests written and passing
- [ ] **Learning.md updated with all insights from this iteration**
- [ ] No errors or warnings in the code